<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ‹çˆ±ä½“è´¨æµ‹è¯• - ä½ çš„æ‹çˆ±DNAå¤§æ­ç§˜ï¼</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700;900&display=swap" rel="stylesheet">
    <style>
        /* ==================== å…¨å±€æ ·å¼ ==================== */
        :root {
            --primary-color: #FF6B9D;
            --secondary-color: #FF8E53;
            --accent-color: #FEC163;
            --purple: #A855F7;
            --bg-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --card-bg: rgba(255, 255, 255, 0.95);
            --text-primary: #1F2937;
            --text-secondary: #6B7280;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans SC', -apple-system, BlinkMacSystemFont, sans-serif;
            min-height: 100vh;
            background: var(--bg-gradient);
            color: var(--text-primary);
            overflow-x: hidden;
            position: relative;
        }

        /* èƒŒæ™¯è£…é¥° */
        .bg-decorations {
            position: fixed;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            overflow: hidden;
        }

        .floating-emoji {
            position: absolute;
            font-size: 2rem;
            opacity: 0.15;
            animation: float 20s infinite ease-in-out;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-100px) rotate(180deg); }
        }

        /* ä¸»å®¹å™¨ */
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 1;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* é¡µé¢åˆ‡æ¢ */
        .page {
            display: none;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.4s ease;
        }

        .page.active {
            display: flex;
            flex-direction: column;
            opacity: 1;
            transform: translateY(0);
        }

        /* ==================== é¦–é¡µæ ·å¼ ==================== */
        .home-page {
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 40px 20px;
            flex-grow: 1;
        }

        .logo {
            font-size: 4rem;
            margin-bottom: 20px;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .title {
            font-size: 2.5rem;
            font-weight: 900;
            color: white;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .subtitle {
            font-size: 1.2rem;
            color: rgba(255,255,255,0.9);
            margin-bottom: 30px;
        }

        .intro-card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 30px;
            margin: 30px 0;
            box-shadow: 0 20px 60px rgba(0,0,0,0.15);
            backdrop-filter: blur(10px);
        }

        .intro-title {
            font-size: 1.4rem;
            color: var(--primary-color);
            margin-bottom: 15px;
            font-weight: 700;
        }

        .intro-content {
            font-size: 1rem;
            line-height: 1.8;
            color: var(--text-secondary);
            margin-bottom: 20px;
            text-align: left;
        }

        .intro-content p {
            margin-bottom: 12px;
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .feature-item {
            background: linear-gradient(135deg, #FF6B9D 0%, #FF8E53 100%);
            padding: 25px;
            border-radius: 15px;
            color: white;
            text-align: center;
            transition: transform 0.3s ease;
        }

        .feature-item:hover {
            transform: translateY(-5px);
        }

        .feature-icon {
            font-size: 3rem;
            margin-bottom: 10px;
        }

        .feature-text {
            font-weight: 600;
            font-size: 1.1rem;
        }

        .slogan {
            font-size: 1.5rem;
            color: #FEC163;
            font-weight: 700;
            margin: 30px 0;
            font-style: italic;
        }

        .btn-start {
            background: linear-gradient(135deg, #FF6B9D 0%, #FF8E53 100%);
            color: white;
            border: none;
            padding: 18px 50px;
            font-size: 1.3rem;
            font-weight: 700;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(255, 107, 157, 0.4);
        }

        .btn-start:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 15px 40px rgba(255, 107, 157, 0.6);
        }

        /* ==================== æµ‹è¯•é¡µé¢æ ·å¼ ==================== */
        .test-page {
            align-items: center;
            justify-content: center;
            flex-grow: 1;
            padding: 20px;
        }

        .progress-container {
            width: 100%;
            max-width: 500px;
            margin-bottom: 30px;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: rgba(255,255,255,0.3);
            border-radius: 5px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #FF6B9D, #FF8E53);
            border-radius: 5px;
            transition: width 0.5s ease;
        }

        .progress-text {
            text-align: center;
            color: white;
            font-weight: 600;
            margin-top: 10px;
            font-size: 1.1rem;
        }

        .question-card {
            background: var(--card-bg);
            border-radius: 25px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.15);
            width: 100%;
            max-width: 600px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
        }

        .question-emoji {
            font-size: 4rem;
            text-align: center;
            margin-bottom: 20px;
        }

        .question-text {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-primary);
            text-align: center;
            line-height: 1.5;
            margin-bottom: 30px;
        }

        .options-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
            width: 100%;
            max-width: 600px;
        }

        .option-btn {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border: 2px solid transparent;
            padding: 20px 25px;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.1rem;
            color: var(--text-primary);
            text-align: left;
            position: relative;
            overflow: hidden;
        }

        .option-btn:hover {
            background: linear-gradient(135deg, #FFE4EC 0%, #FFF4E6 100%);
            border-color: var(--primary-color);
            transform: translateX(5px);
        }

        .option-btn.selected {
            background: linear-gradient(135deg, #FF6B9D 0%, #FF8E53 100%);
            color: white;
            border-color: transparent;
        }

        .option-emoji {
            font-size: 1.5rem;
            margin-right: 12px;
        }

        .option-text {
            flex-grow: 1;
        }

        /* ç‚¹å‡»åŠ¨ç”» */
        .option-btn.clicked {
            animation: clickEffect 0.4s ease;
        }

        @keyframes clickEffect {
            0% { transform: scale(1); }
            50% { transform: scale(0.95); }
            100% { transform: scale(1); }
        }

        /* é¡µé¢åˆ‡æ¢åŠ¨ç”» */
        .slide-out {
            animation: slideOut 0.4s ease forwards;
        }

        .slide-in {
            animation: slideIn 0.4s ease forwards;
        }

        @keyframes slideOut {
            to { opacity: 0; transform: translateX(-50px); }
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(50px); }
            to { opacity: 1; transform: translateX(0); }
        }

        /* ==================== ç»“æœé¡µé¢æ ·å¼ ==================== */
        .result-page {
            align-items: center;
            padding: 20px;
        }

        .result-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .result-title {
            font-size: 2rem;
            font-weight: 900;
            color: white;
            margin-bottom: 10px;
        }

        .score-container {
            background: linear-gradient(135deg, #FF6B9D 0%, #FF8E53 100%);
            padding: 40px 60px;
            border-radius: 25px;
            text-align: center;
            margin: 30px 0;
            box-shadow: 0 20px 60px rgba(255, 107, 157, 0.4);
        }

        .score-number {
            font-size: 4.5rem;
            font-weight: 900;
            color: white;
            display: block;
            animation: scoreReveal 1.5s ease;
        }

        @keyframes scoreReveal {
            0% { transform: scale(0); opacity: 0; }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); opacity: 1; }
        }

        .score-label {
            color: rgba(255,255,255,0.9);
            font-size: 1.2rem;
            font-weight: 600;
        }

        .result-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            width: 100%;
            max-width: 800px;
            margin-bottom: 30px;
        }

        .result-card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
            transition: transform 0.3s ease;
        }

        .result-card:hover {
            transform: translateY(-5px);
        }

        .card-icon {
            font-size: 3rem;
            margin-bottom: 15px;
            display: block;
        }

        .card-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 15px;
        }

        .card-content {
            color: var(--text-secondary);
            line-height: 1.8;
        }

        .highlight {
            color: var(--primary-color);
            font-weight: 700;
        }

        /* æ•°æ®å¯è§†åŒ– */
        .charts-section {
            width: 100%;
            max-width: 800px;
            margin-bottom: 30px;
        }

        .chart-container {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .chart-title {
            text-align: center;
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 25px;
        }

        .bar-chart {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .bar-item {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .bar-label {
            width: 120px;
            font-weight: 600;
            color: var(--text-secondary);
            font-size: 0.95rem;
        }

        .bar-track {
            flex: 1;
            height: 16px;
            background: #f0f0f0;
            border-radius: 8px;
            overflow: hidden;
        }

        .bar-fill {
            height: 100%;
            border-radius: 8px;
            transition: width 1s ease;
            position: relative;
        }

        .bar-value {
            width: 50px;
            font-weight: 700;
            color: var(--text-primary);
            font-size: 0.95rem;
        }

        /* æŒ‰é’®ç»„ */
        .button-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
            margin: 30px 0;
        }

        .btn-action {
            padding: 15px 35px;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
        }

        .btn-share {
            background: linear-gradient(135deg, #10B981 0%, #059669 100%);
            color: white;
        }

        .btn-share:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(16, 185, 129, 0.4);
        }

        .btn-retake {
            background: linear-gradient(135deg, #8B5CF6 0%, #6D28D9 100%);
            color: white;
        }

        .btn-retake:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(139, 92, 246, 0.4);
        }

        /* Toastæç¤º */
        .toast {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: #1F2937;
            color: white;
            padding: 15px 30px;
            border-radius: 10px;
            font-weight: 600;
            z-index: 1000;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .toast.show {
            transform: translateX(-50%) translateY(0);
        }

        /* ==================== é¡µè„šæ ·å¼ ==================== */
        .footer {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            padding: 30px 20px;
            text-align: center;
            color: white;
            margin-top: auto;
            border-radius: 20px 20px 0 0;
        }

        .footer-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .footer-text {
            font-size: 0.9rem;
            opacity: 0.9;
            line-height: 1.8;
            margin-bottom: 15px;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
            font-size: 0.85rem;
        }

        .footer-link {
            color: rgba(255,255,255,0.8);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer-link:hover {
            color: #FEC163;
        }

        /* ==================== å“åº”å¼è®¾è®¡ ==================== */
        @media (max-width: 768px) {
            .title {
                font-size: 2rem;
            }
            
            .logo {
                font-size: 3rem;
            }
            
            .question-card {
                padding: 30px 20px;
            }
            
            .question-text {
                font-size: 1.3rem;
            }
            
            .option-btn {
                padding: 15px 20px;
                font-size: 1rem;
            }
            
            .result-cards {
                grid-template-columns: 1fr;
            }
            
            .score-number {
                font-size: 3.5rem;
            }
            
            .button-group {
                flex-direction: column;
                align-items: stretch;
            }
            
            .bar-label {
                width: 90px;
                font-size: 0.85rem;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 15px;
            }
            
            .intro-card {
                padding: 20px;
            }
            
            .features {
                grid-template-columns: 1fr;
            }
            
            .btn-start {
                padding: 15px 40px;
                font-size: 1.1rem;
            }
            
            .score-container {
                padding: 30px 40px;
            }
        }

        /* åŠ è½½åŠ¨ç”» */
        .loading {
            display: none;
            text-align: center;
            padding: 40px;
        }

        .loading.active {
            display: block;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #FF6B9D;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- èƒŒæ™¯è£…é¥° -->
    <div class="bg-decorations" id="bgDecorations"></div>

    <!-- ä¸»å®¹å™¨ -->
    <div class="container">
        <!-- é¦–é¡µ -->
        <div class="page home-page active" id="homePage">
            <div class="logo">ğŸ’•</div>
            <h1 class="title">æ‹çˆ±ä½“è´¨æµ‹è¯•</h1>
            <p class="subtitle">ä½ çš„æ‹çˆ±DNAå¤§æ­ç§˜ï¼</p>
            
            <div class="intro-card">
                <h2 class="intro-title">ğŸ¯ ä»€ä¹ˆæ˜¯æ‹çˆ±ä½“è´¨æµ‹è¯•ï¼Ÿ</h2>
                <div class="intro-content">
                    <p>ğŸ§¬ æ‹çˆ±ä½“è´¨æµ‹è¯•æ˜¯ä¸€å¥—ä¸“ä¸šçš„å¿ƒç†è¯„ä¼°å·¥å…·ï¼Œé€šè¿‡25é“ç²¾å¿ƒè®¾è®¡çš„å¹½é»˜é£è¶£é¢˜ç›®ï¼Œæ·±åº¦è§£æä½ çš„æ‹çˆ±äººæ ¼ç‰¹è´¨ã€ä¾æ‹æ¨¡å¼ã€æƒ…æ„Ÿéœ€æ±‚ç­‰æ ¸å¿ƒç»´åº¦ã€‚</p>
                    <p>ğŸª æˆ‘ä»¬å°†å¿ƒç†å­¦ä¸“ä¸šç†è®ºä¸ç½‘ç»œçƒ­æ¢—ã€ç¥è¯„è®ºå·§å¦™èåˆï¼Œè®©ä½ åœ¨æ¬¢å£°ç¬‘è¯­ä¸­å®Œæˆç§‘å­¦è¯„ä¼°ï¼Œäº†è§£è‡ªå·±åœ¨çˆ±æƒ…ä¸­çš„çœŸå®é¢è²Œã€‚</p>
                </div>

                <h2 class="intro-title">â“ ä¸ºä»€ä¹ˆè¦åšè¿™ä¸ªæµ‹è¯•ï¼Ÿ</h2>
                <div class="intro-content">
                    <p>âœ… <strong>äº†è§£è‡ªå·±ï¼š</strong>å‘ç°ä½ çš„æ‹çˆ±ä¼˜åŠ¿å’Œç›²ç‚¹ï¼Œè®¤è¯†çœŸå®çš„æ‹çˆ±äººæ ¼</p>
                    <p>âœ… <strong>å¯»æ‰¾çœŸçˆ±ï¼š</strong>äº†è§£è‡ªå·±é€‚åˆä»€ä¹ˆæ ·çš„ä¼´ä¾£ï¼Œæé«˜æ‹çˆ±æˆåŠŸç‡</p>
                    <p>âœ… <strong>æ”¹å–„å…³ç³»ï¼š</strong>è¯†åˆ«å…³ç³»ä¸­çš„é—®é¢˜ï¼Œè·å¾—é’ˆå¯¹æ€§çš„æˆé•¿å»ºè®®</p>
                    <p>âœ… <strong>å¨±ä¹æ”¾æ¾ï¼š</strong>åœ¨æµ‹è¯•è¿‡ç¨‹ä¸­äº«å—å¹½é»˜é£è¶£çš„é¢˜ç›®è®¾è®¡ï¼Œæ”¶è·å¿«ä¹</p>
                </div>

                <div class="features">
                    <div class="feature-item">
                        <div class="feature-icon">ğŸ§ </div>
                        <div class="feature-text">ä¸“ä¸šç§‘å­¦</div>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">ğŸ˜‚</div>
                        <div class="feature-text">å¹½é»˜é£è¶£</div>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">ğŸ“Š</div>
                        <div class="feature-text">å¤šç»´åˆ†æ</div>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">ğŸ’¡</div>
                        <div class="feature-text">ç²¾å‡†è§£è¯»</div>
                    </div>
                </div>
            </div>

            <p class="slogan">"ä½ çš„æ‹çˆ±ä½“è´¨ï¼Œå†³å®šäº†ä½ èƒ½é‡è§ä»€ä¹ˆæ ·çš„çˆ±æƒ… ğŸ’«"</p>
            <button class="btn-start" onclick="startTest()">ğŸš€ å¼€å§‹æµ‹è¯•</button>
        </div>

        <!-- æµ‹è¯•é¡µé¢ -->
        <div class="page test-page" id="testPage">
            <div class="progress-container">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="progress-text" id="progressText">1/25é¢˜</div>
            </div>

            <div class="question-card" id="questionCard">
                <div class="question-emoji" id="questionEmoji">ğŸ¤”</div>
                <h3 class="question-text" id="questionText">é¢˜ç›®åŠ è½½ä¸­...</h3>
                <div class="options-container" id="optionsContainer"></div>
            </div>

            <div class="loading" id="loading">
                <div class="spinner"></div>
                <p style="margin-top: 20px; color: white; font-weight: 600;">æ­£åœ¨åˆ†æä½ çš„æ‹çˆ±DNA...</p>
            </div>
        </div>

        <!-- ç»“æœé¡µé¢ -->
        <div class="page result-page" id="resultPage">
            <div class="result-header">
                <h2 class="result-title">ğŸ‰ æµ‹è¯•ç»“æœ</h2>
                <p style="color: rgba(255,255,255,0.9);">åŸºäº25é“é¢˜çš„ä¸“ä¸šåˆ†æ</p>
            </div>

            <div class="score-container">
                <span class="score-number" id="scoreNumber">0</span>
                <span class="score-label">æ‹çˆ±ä½“è´¨å¾—åˆ†</span>
            </div>

            <div class="result-cards">
                <div class="result-card">
                    <span class="card-icon">ğŸ­</span>
                    <h3 class="card-title">æ‹çˆ±äººæ ¼ç±»å‹</h3>
                    <div class="card-content" id="personalityType"></div>
                </div>

                <div class="result-card">
                    <span class="card-icon">ğŸ’</span>
                    <h3 class="card-title">æ‹çˆ±æ ¸å¿ƒç‰¹è´¨</h3>
                    <div class="card-content" id="coreTraits"></div>
                </div>

                <div class="result-card">
                    <span class="card-icon">ğŸ”¥</span>
                    <h3 class="card-title">æ‹çˆ±å æœ‰æ¬²ç±»å‹</h3>
                    <div class="card-content" id="possessivenessType"></div>
                </div>

                <div class="result-card">
                    <span class="card-icon">ğŸ’</span>
                    <h3 class="card-title">æ‹çˆ±ä¾æ‹äººæ ¼</h3>
                    <div class="card-content" id="attachmentType"></div>
                </div>
            </div>

            <div class="charts-section">
                <div class="chart-container">
                    <h3 class="chart-title">ğŸ“Š å…­ç»´æ‹çˆ±èƒ½åŠ›åˆ†æ</h3>
                    <div class="bar-chart" id="barChart"></div>
                </div>
            </div>

            <div class="button-group">
                <button class="btn-action btn-share" onclick="shareResult()">ğŸ“¤ åˆ†äº«ç»“æœ</button>
                <button class="btn-action btn-retake" onclick="retakeTest()">ğŸ”„ é‡æ–°æµ‹è¯•</button>
            </div>
        </div>

        <!-- é¡µè„š -->
        <footer class="footer">
            <div class="footer-content">
                <p class="footer-text">
                    ğŸ’ æ‹çˆ±ä½“è´¨æµ‹è¯• - ä½ çš„ä¸“ä¸šæ‹çˆ±é¡¾é—®<br>
                    æœ¬æµ‹è¯•ä»…ä¾›å¨±ä¹å’Œå‚è€ƒï¼Œç»“æœä¸æ„æˆä»»ä½•åŒ»ç–—æˆ–å¿ƒç†è¯Šæ–­å»ºè®®ã€‚<br>
                    å¦‚é‡æ„Ÿæƒ…é—®é¢˜ï¼Œå»ºè®®å¯»æ±‚ä¸“ä¸šå¿ƒç†å’¨è¯¢å¸ˆçš„å¸®åŠ©ã€‚
                </p>
                <div class="footer-links">
                    <a href="#" class="footer-link">å…³äºæˆ‘ä»¬</a>
                    <a href="#" class="footer-link">éšç§æ”¿ç­–</a>
                    <a href="#" class="footer-link">ä½¿ç”¨æ¡æ¬¾</a>
                    <a href="#" class="footer-link">è”ç³»æ–¹å¼</a>
                </div>
                <p style="margin-top: 20px; font-size: 0.8rem; opacity: 0.7;">
                    Â© 2024 æ‹çˆ±ä½“è´¨æµ‹è¯• | ç”¨ç§‘å­¦è§£è¯»çˆ±æƒ…ï¼Œç”¨å¹½é»˜æ¸©æš–äººç”Ÿ â¤ï¸
                </p>
            </div>
        </footer>
    </div>

    <!-- Toastæç¤º -->
    <div class="toast" id="toast"></div>

    <script>
        // ==================== é¢˜ç›®æ•°æ® ====================
        const questions = [
            {
                emoji: "ğŸ’­",
                question: "å½“ä½ ç¬¬ä¸€æ¬¡è§åˆ°å¿ƒåŠ¨çš„äººï¼Œç¬¬ä¸€ååº”æ˜¯ï¼Ÿ",
                options: [
                    { emoji: "ğŸ˜µ", text: "å¤§è„‘çŸ­è·¯ï¼Œæ™ºå•†ç¬é—´æ¸…é›¶", score: 8 },
                    { emoji: "ğŸ•µï¸", text: "æš—ä¸­è§‚å¯Ÿï¼Œå¼€å§‹æœé›†TAçš„æƒ…æŠ¥", score: 6 },
                    { emoji: "ğŸ˜", text: "ä¿æŒé«˜å†·ï¼Œå†…å¿ƒæ…Œå¾—ä¸€æ‰¹", score: 5 },
                    { emoji: "ğŸ¤³", text: "å‡è£…çœ‹æ‰‹æœºï¼Œå®åˆ™ç–¯ç‹‚å·æ‹", score: 7 }
                ]
            },
            {
                emoji: "ğŸ",
                question: "æƒ…äººèŠ‚ç¤¼ç‰©ï¼Œä½ ä¼šé€‰æ‹©ï¼Ÿ",
                options: [
                    { emoji: "ğŸ’", text: "å¥¢ä¾ˆå“ï¼Œè´µå°±å®Œäº‹äº†ï¼", score: 9 },
                    { emoji: "ğŸ¨", text: "DIYæ‰‹å·¥ï¼Œå¿ƒæ„æ— ä»·", score: 8 },
                    { emoji: "ğŸ§§", text: "ç›´æ¥å‘çº¢åŒ…ï¼Œç®€å•ç²—æš´", score: 5 },
                    { emoji: "ğŸ“±", text: "é—®TAæƒ³è¦å•¥ï¼Œç²¾å‡†æŠ•å–‚", score: 6 }
                ]
            },
            {
                emoji: "ğŸ¤³",
                question: "å¯¹æ–¹çªç„¶ä¸å›æ¶ˆæ¯ï¼Œä½ ä¼šï¼Ÿ",
                options: [
                    { emoji: "ğŸ“", text: "å¤ºå‘½è¿ç¯callï¼Œç›´åˆ°TAæ¥ä¸ºæ­¢", score: 9 },
                    { emoji: "ğŸ§˜", text: "æ·¡å®šæ·¡å®šï¼Œå¯èƒ½æ˜¯æ²¡ç”µäº†å§", score: 4 },
                    { emoji: "ğŸ­", text: "è¡¨é¢äº‘æ·¡é£è½»ï¼Œå†…å¿ƒå·²ç»è„‘è¡¥å‡ºä¸€éƒ¨ç‹—è¡€å‰§", score: 7 },
                    { emoji: "ğŸŒ™", text: "ç¡è§‰ç¡è§‰ï¼Œæ‰‹æœºå…³æœº", score: 3 }
                ]
            },
            {
                emoji: "ğŸ“¸",
                question: "æƒ…ä¾£å¤´åƒï¼Œä½ çš„æ€åº¦æ˜¯ï¼Ÿ",
                options: [
                    { emoji: "ğŸ’‘", text: "å¿…é¡»å®‰æ’ï¼è¿™å¯æ˜¯å®˜å®£ç¥å™¨", score: 8 },
                    { emoji: "ğŸ¤”", text: "çœ‹æƒ…å†µï¼Œä¸è¦é‚£ä¹ˆå¼ æ‰¬", score: 5 },
                    { emoji: "ğŸ™…", text: "æ‹’ç»ï¼æˆ‘çš„å¤´åƒä»£è¡¨æˆ‘çš„çµé­‚", score: 3 },
                    { emoji: "ğŸ˜", text: "å·å·ç”¨ï¼Œåˆ«è®©äººå‘ç°", score: 6 }
                ]
            },
            {
                emoji: "ğŸ’ª",
                question: "ä¼´ä¾£å’Œå¼‚æ€§æœ‹å‹åƒé¥­ï¼Œä½ çš„ååº”ï¼Ÿ",
                options: [
                    { emoji: "ğŸš«", text: "ç»å¯¹ä¸è¡Œï¼è¿™æ˜¯åŸåˆ™é—®é¢˜", score: 10 },
                    { emoji: "ğŸ¤·", text: "æ­£å¸¸ç¤¾äº¤ï¼Œæˆ‘ç›¸ä¿¡TA", score: 3 },
                    { emoji: "ğŸ‘€", text: "åªè¦æå‰æŠ¥å¤‡ï¼Œæˆ‘OK", score: 5 },
                    { emoji: "ğŸ˜", text: "æš—ä¸­è·Ÿéšï¼Œæ¥ä¸ªçªå‡»æ£€æŸ¥", score: 8 }
                ]
            },
            {
                emoji: "ğŸ¿",
                question: "çº¦ä¼šçœ‹ç”µå½±ï¼Œä½ æ›´å–œæ¬¢ï¼Ÿ",
                options: [
                    { emoji: "ğŸ¤—", text: "å…¨ç¨‹æŠ±æŠ±ï¼Œç”µå½±æ˜¯å•¥ä¸é‡è¦", score: 8 },
                    { emoji: "ğŸ¬", text: "è®¤çœŸçœ‹ç”µå½±ï¼Œçœ‹å®Œè®¨è®ºå‰§æƒ…", score: 5 },
                    { emoji: "ğŸ’¬", text: "è¾¹çœ‹è¾¹åæ§½ï¼Œè‡ªå¸¦å¼¹å¹•", score: 6 },
                    { emoji: "ğŸ˜´", text: "ç”µå½±é™¢çš„æ²™å‘æœ€é€‚åˆç¡è§‰", score: 4 }
                ]
            },
            {
                emoji: "ğŸŒ™",
                question: "ç¡å‰çš„æœ€åä¸€æ¡æ¶ˆæ¯ï¼Œä½ ä¼šå‘ï¼Ÿ",
                options: [
                    { emoji: "ğŸ’•", text: "ç”œè¨€èœœè¯­ï¼ŒåœŸå‘³æƒ…è¯èµ°èµ·", score: 8 },
                    { emoji: "ğŸ˜´", text: "ä¸€ä¸ªè¡¨æƒ…åŒ…å®Œäº‹", score: 4 },
                    { emoji: "ğŸ“±", text: "æ™šå®‰ï¼Œæ˜å¤©è§", score: 5 },
                    { emoji: "ğŸ¤”", text: "å‡è£…ç¡ç€äº†ï¼Œå…¶å®è¿˜åœ¨ç­‰æ¶ˆæ¯", score: 7 }
                ]
            },
            {
                emoji: "ğŸ¥˜",
                question: "ç¬¬ä¸€æ¬¡å»TAå®¶è§çˆ¶æ¯ï¼Œä½ ä¼šï¼Ÿ",
                options: [
                    { emoji: "ğŸ˜°", text: "ç´§å¼ åˆ°è„šè¶¾æŠ åœ°", score: 6 },
                    { emoji: "ğŸ“", text: "åšè¶³åŠŸè¯¾ï¼Œå‡†å¤‡è§é¢ç¤¼", score: 7 },
                    { emoji: "ğŸ˜", text: "å¤§å¤§æ–¹æ–¹ï¼Œè‡ªä¿¡æ»¡æ»¡", score: 8 },
                    { emoji: "ğŸƒ", text: "æ‰¾å€Ÿå£æ¨è¿Ÿï¼Œèƒ½æ‹–å°±æ‹–", score: 4 }
                ]
            },
            {
                emoji: "ğŸ”¥",
                question: "åµæ¶åï¼Œä½ é€šå¸¸ä¼šï¼Ÿ",
                options: [
                    { emoji: "ğŸ˜¤", text: "å†·æˆ˜åˆ°åº•ï¼Œçœ‹è°å…ˆä½å¤´", score: 8 },
                    { emoji: "ğŸ¤", text: "ä¸»åŠ¨æ±‚å’Œï¼Œæ„Ÿæƒ…è¦ç´§", score: 5 },
                    { emoji: "ğŸ¤", text: "å†·é™æ²Ÿé€šï¼Œè§£å†³é—®é¢˜", score: 7 },
                    { emoji: "ğŸ“±", text: "å‘æœ‹å‹åœˆå†…æ¶µä¸€ä¸‹", score: 9 }
                ]
            },
            {
                emoji: "ğŸ’¼",
                question: "ä¼´ä¾£å·¥ä½œå¾ˆå¿™ç»å¸¸åŠ ç­ï¼Œä½ ä¼šï¼Ÿ",
                options: [
                    { emoji: "ğŸ˜¤", text: "æŠ±æ€¨TAæ²¡æ—¶é—´é™ªæˆ‘", score: 8 },
                    { emoji: "ğŸ‘", text: "è¡¨ç¤ºç†è§£ï¼Œé»˜é»˜æ”¯æŒ", score: 5 },
                    { emoji: "â˜•", text: "å»å…¬å¸é€å¥¶èŒ¶ï¼Œåˆ·å­˜åœ¨æ„Ÿ", score: 6 },
                    { emoji: "ğŸ“±", text: "æ—¢ç„¶å¿™é‚£æˆ‘ä¹Ÿç©æˆ‘çš„", score: 4 }
                ]
            },
            {
                emoji: "ğŸ–ï¸",
                question: "æ—…è¡Œæ—¶ä½ çš„é£æ ¼æ˜¯ï¼Ÿ",
                options: [
                    { emoji: "ğŸ“‹", text: "è¯¦ç»†æ”»ç•¥ï¼ŒæŒ‰è®¡åˆ’æ‰§è¡Œ", score: 6 },
                    { emoji: "ğŸŒŠ", text: "éšå¿ƒæ‰€æ¬²ï¼Œèµ°åˆ°å“ªç®—å“ª", score: 7 },
                    { emoji: "ğŸ›ï¸", text: "é…’åº—èººå°¸ï¼Œå“ªéƒ½ä¸å»", score: 4 },
                    { emoji: "ğŸ“¸", text: "ç–¯ç‹‚æ‹ç…§ï¼Œå‘æœ‹å‹åœˆé‡è¦", score: 8 }
                ]
            },
            {
                emoji: "ğŸ‚",
                question: "ä¼´ä¾£ç”Ÿæ—¥ï¼Œä½ çš„åº†ç¥æ–¹å¼ï¼Ÿ",
                options: [
                    { emoji: "ğŸ‰", text: "å®‰æ’æƒŠå–œæ´¾å¯¹ï¼Œé‚€è¯·æ‰€æœ‰æœ‹å‹", score: 8 },
                    { emoji: "ğŸ•¯ï¸", text: "çƒ›å…‰æ™šé¤ï¼Œåªæœ‰æˆ‘ä»¬ä¿©", score: 6 },
                    { emoji: "ğŸ", text: "é€ä¸ªç¤¼ç‰©ï¼Œç®€å•è¯´å¥ç”Ÿæ—¥å¿«ä¹", score: 4 },
                    { emoji: "ğŸ’°", text: "è½¬è´¦520ï¼Œç®€å•ç²—æš´", score: 5 }
                ]
            },
            {
                emoji: "ğŸ“±",
                question: "æŸ¥çœ‹ä¼´ä¾£æ‰‹æœºï¼Œä½ è§‰å¾—ï¼Ÿ",
                options: [
                    { emoji: "ğŸ”“", text: "æ²¡å•¥ä¸èƒ½çœ‹çš„ï¼Œéšä¾¿ç¿»", score: 4 },
                    { emoji: "ğŸš«", text: "åšå†³ä¸æŸ¥ï¼Œä¿¡ä»»æœ€é‡è¦", score: 6 },
                    { emoji: "ğŸ‘€", text: "å¶å°”å·çœ‹ï¼Œåˆ«è¢«å‘ç°å°±è¡Œ", score: 7 },
                    { emoji: "ğŸ¤”", text: "æƒ³æŸ¥ä½†ä¸æ•¢ï¼Œæ€•çœ‹åˆ°ä¸è¯¥çœ‹çš„", score: 8 }
                ]
            },
            {
                emoji: "ğŸ’„",
                question: "ä¼´ä¾£å¤¸åˆ«çš„å¼‚æ€§å¥½çœ‹ï¼Œä½ ä¼šï¼Ÿ",
                options: [
                    { emoji: "ğŸ”¥", text: "å½“åœºç‚¸æ¯›ï¼Œ'é‚£ä½ å»è¿½TAå•Š'", score: 9 },
                    { emoji: "ğŸ˜Œ", text: "æ·¡å®šæ·¡å®šï¼Œè°è¿˜æ²¡çœ¼å…‰", score: 5 },
                    { emoji: "ğŸ˜", text: "æš—æˆ³æˆ³åƒé†‹ï¼Œä½†ä¸è¯´å‡ºæ¥", score: 7 },
                    { emoji: "ğŸ¤³", text: "ç«‹å³è‡ªæ‹ï¼Œ'çœ‹çœ‹æˆ‘æ›´å¥½çœ‹'", score: 6 }
                ]
            },
            {
                emoji: "ğŸ®",
                question: "å‘¨æœ«å®…å®¶ï¼Œä½ ä»¬ä¼šï¼Ÿ",
                options: [
                    { emoji: "ğŸ®", text: "ä¸€èµ·æ‰“æ¸¸æˆï¼Œå¼€é»‘ä¸Šåˆ†", score: 6 },
                    { emoji: "ğŸ“±", text: "å„ç©å„çš„æ‰‹æœºï¼Œå¶å°”è¯´å‡ å¥è¯", score: 4 },
                    { emoji: "ğŸ¿", text: "ä¸€èµ·è¿½å‰§ï¼Œåƒé›¶é£ŸèŠå¤©", score: 7 },
                    { emoji: "ğŸ›ï¸", text: "ä»æ—©ç¡åˆ°æ™šï¼Œè¿™å°±æ˜¯å¹¸ç¦", score: 5 }
                ]
            },
            {
                emoji: "ğŸ¤",
                question: "å»KTVï¼Œä½ çš„è¡¨ç°æ˜¯ï¼Ÿ",
                options: [
                    { emoji: "ğŸ¤", text: "éº¦éœ¸ä¸Šèº«ï¼Œä¸è®©åˆ«äººå”±", score: 7 },
                    { emoji: "ğŸ‘", text: "åªå¬ä¸å”±ï¼Œåšå¿ å®è§‚ä¼—", score: 4 },
                    { emoji: "ğŸµ", text: "åªå”±æƒ…æ­Œï¼Œæ¯é¦–éƒ½æ˜¯ç»™TAçš„", score: 8 },
                    { emoji: "ğŸ˜´", text: "æ‰¾ä¸ªè§’è½ç¡è§‰", score: 3 }
                ]
            },
            {
                emoji: "ğŸ¶",
                question: "å…³äºå…»å® ç‰©ï¼Œä½ ä¼šï¼Ÿ",
                options: [
                    { emoji: "ğŸ•", text: "å¿…é¡»å…»ç‹—ï¼Œå¿ è¯šåˆå¯çˆ±", score: 6 },
                    { emoji: "ğŸ±", text: "å¿…é¡»å…»çŒ«ï¼Œé«˜å†·æœ‰æ€§æ ¼", score: 6 },
                    { emoji: "ğŸ™…", text: "ä¸å…»ä¸å…»ï¼Œå¤ªéº»çƒ¦äº†", score: 4 },
                    { emoji: "ğŸ’•", text: "å…»ä»€ä¹ˆéƒ½è¡Œï¼Œä¸»è¦æ˜¯å’ŒTAä¸€èµ·ç…§é¡¾", score: 8 }
                ]
            },
            {
                emoji: "ğŸ’°",
                question: "å…³äºç»æµé—®é¢˜ï¼Œä½ çš„çœ‹æ³•ï¼Ÿ",
                options: [
                    { emoji: "ğŸ’³", text: "AAåˆ¶ï¼Œå„èŠ±å„çš„", score: 5 },
                    { emoji: "ğŸ’°", text: "ç”·æ–¹å¤šå‡ºä¸€äº›ï¼Œè¡¨ç¤ºç…§é¡¾", score: 6 },
                    { emoji: "ğŸ¦", text: "å»ºç«‹å…±åŒè´¦æˆ·ï¼Œä¸€èµ·ç®¡ç†", score: 7 },
                    { emoji: "ğŸ¤", text: "æœ‰é’±çš„å¤šå‡ºï¼Œæ²¡é’±çš„å‡ºåŠ›", score: 8 }
                ]
            },
            {
                emoji: "ğŸ˜´",
                question: "å…³äºç¡å§¿ï¼Œä½ æ›´å–œæ¬¢ï¼Ÿ",
                options: [
                    { emoji: "ğŸ¤—", text: "æŠ±åœ¨ä¸€èµ·ç¡ï¼Œè¶…æœ‰å®‰å…¨æ„Ÿ", score: 8 },
                    { emoji: "ğŸ˜´", text: "å„ç¡å„çš„ï¼Œäº’ä¸æ‰“æ‰°", score: 4 },
                    { emoji: "ğŸ¤", text: "å¶å°”æŠ±æŠ±ï¼Œå¹³æ—¶åˆ†å¼€", score: 6 },
                    { emoji: "ğŸ¤š", text: "ä¸€å®šè¦ç‰µç€æ‰‹æ‰èƒ½ç¡ç€", score: 9 }
                ]
            },
            {
                emoji: "ğŸ­",
                question: "ä¼´ä¾£æå‡ºå†·é™ä¸€ä¸‹ï¼Œä½ ä¼šï¼Ÿ",
                options: [
                    { emoji: "ğŸ˜­", text: "å´©æºƒå¤§å“­ï¼Œ'ä½ æ˜¯ä¸çˆ±æˆ‘äº†'", score: 9 },
                    { emoji: "ğŸ§˜", text: "ç»™TAç©ºé—´ï¼Œè‡ªå·±ä¹Ÿå†·é™ä¸€ä¸‹", score: 6 },
                    { emoji: "ğŸ¤", text: "ç«‹å³æ²Ÿé€šï¼Œè§£å†³é—®é¢˜æœ€é‡è¦", score: 7 },
                    { emoji: "â„ï¸", text: "å¥½ï¼Œé‚£æˆ‘ä¹Ÿå†·é™ä¸€ä¸‹", score: 5 }
                ]
            },
            {
                emoji: "ğŸ’‘",
                question: "å…¬å¼€æ‹æƒ…çš„æ–¹å¼ï¼Œä½ ä¼šï¼Ÿ",
                options: [
                    { emoji: "ğŸ“±", text: "æœ‹å‹åœˆå®˜å®£ï¼Œè®©å…¨ä¸–ç•Œéƒ½çŸ¥é“", score: 8 },
                    { emoji: "ğŸ¤«", text: "ä½è°ƒä½è°ƒï¼Œåªå‘Šè¯‰äº²å¯†æœ‹å‹", score: 5 },
                    { emoji: "ğŸ¤·", text: "å¯¹æ–¹æƒ³æ€ä¹ˆå…¬å¼€å°±æ€ä¹ˆå…¬å¼€", score: 4 },
                    { emoji: "ğŸ”’", text: "æš‚æ—¶ä¿å¯†ï¼Œç¨³å®šäº†å†è¯´", score: 6 }
                ]
            },
            {
                emoji: "ğŸ“–",
                question: "ä¼´ä¾£æ¨èä½ ä¸€æœ¬ä¹¦/ä¸€éƒ¨å‰§ï¼Œä½ ä¼šï¼Ÿ",
                options: [
                    { emoji: "ğŸ“š", text: "ç«‹åˆ»å»çœ‹ï¼Œå› ä¸ºTAæ¨èçš„", score: 8 },
                    { emoji: "ğŸ‘€", text: "çœ‹ç®€ä»‹ï¼Œæ„Ÿå…´è¶£å†çœ‹", score: 5 },
                    { emoji: "ğŸ¤¥", text: "å‡è£…çœ‹äº†ï¼Œå…¶å®æ ¹æœ¬æ²¡çœ‹", score: 7 },
                    { emoji: "ğŸ‘«", text: "å’ŒTAä¸€èµ·çœ‹ï¼Œè¾¹çœ‹è¾¹è®¨è®º", score: 9 }
                ]
            },
            {
                emoji: "âœˆï¸",
                question: "å…³äºå¼‚åœ°æ‹ï¼Œä½ çš„æ€åº¦æ˜¯ï¼Ÿ",
                options: [
                    { emoji: "ğŸ’”", text: "åšå†³ä¸è¡Œï¼Œæ¥å—ä¸äº†", score: 8 },
                    { emoji: "ğŸ’•", text: "åªè¦ç›¸çˆ±ï¼Œè·ç¦»ä¸æ˜¯é—®é¢˜", score: 6 },
                    { emoji: "ğŸŒ", text: "æŒºå¥½çš„ï¼Œå„è‡ªæœ‰è‡ªå·±çš„ç©ºé—´", score: 4 },
                    { emoji: "ğŸš€", text: "æƒ³åŠæ³•ç»“æŸå¼‚åœ°ï¼Œè¿™æ˜¯ç›®æ ‡", score: 7 }
                ]
            },
            {
                emoji: "ğŸ“",
                question: "ä½ å’Œä¼´ä¾£çš„æœªæ¥è§„åˆ’ï¼Œä½ ä¼šï¼Ÿ",
                options: [
                    { emoji: "ğŸ’•", text: "ä»å°ç»†èŠ‚åˆ°å¤§æ–¹å‘ï¼Œéƒ½æƒ³ä¸€èµ·", score: 9 },
                    { emoji: "ğŸ¤·", text: "é¡ºå…¶è‡ªç„¶ï¼Œèˆ¹åˆ°æ¡¥å¤´è‡ªç„¶ç›´", score: 4 },
                    { emoji: "ğŸ¯", text: "æœ‰å¤§æ¦‚æ–¹å‘ï¼Œå…·ä½“ä»¥åå†è¯´", score: 6 },
                    { emoji: "ğŸ¤”", text: "ä¸å¤ªæ•¢æƒ³ï¼Œæ€•å¤±æœ›", score: 7 }
                ]
            },
            {
                emoji: "ğŸŒ¹",
                question: "æœ€åï¼Œä½ ç†æƒ³çš„æ‹çˆ±çŠ¶æ€æ˜¯ï¼Ÿ",
                options: [
                    { emoji: "ğŸ”¥", text: "çƒ­æ‹æœŸæ°¸è¿œä¸ç»“æŸ", score: 8 },
                    { emoji: "ğŸŒŠ", text: "ç»†æ°´é•¿æµï¼Œå¹³æ·¡æ˜¯çœŸ", score: 5 },
                    { emoji: "ğŸ¤", text: "å„è‡ªç‹¬ç«‹ï¼Œåˆç›¸äº’ä¾èµ–", score: 7 },
                    { emoji: "ğŸ’", text: "æˆ‘å®Œå…¨è¢«çˆ±åŒ…å›´", score: 9 }
                ]
            }
        ];

        // ==================== å…¨å±€å˜é‡ ====================
        let currentQuestion = 0;
        let totalScore = 0;
        let answers = [];
        
        // ç»´åº¦åˆ†æ•°
        let dimensions = {
            passion: 0,       // çƒ­æƒ…åº¦
            rationality: 0,   // ç†æ€§åº¦
            emotional: 0,     // æƒ…ç»ªåº¦
            possessiveness: 0,// å æœ‰æ¬²
            independence: 0,  // ç‹¬ç«‹æ€§
            trust: 0          // ä¿¡ä»»åº¦
        };

        // ==================== åˆå§‹åŒ– ====================
        document.addEventListener('DOMContentLoaded', function() {
            initBackgroundDecorations();
        });

        /**
         * åˆå§‹åŒ–èƒŒæ™¯è£…é¥°
         * åˆ›å»ºæ¼‚æµ®çš„emojiè£…é¥°å…ƒç´ 
         */
        function initBackgroundDecorations() {
            const container = document.getElementById('bgDecorations');
            const emojis = ['ğŸ’•', 'ğŸ’–', 'ğŸ’—', 'ğŸ’“', 'â¤ï¸', 'ğŸŒ¹', 'âœ¨', 'ğŸ’«'];
            
            for (let i = 0; i < 20; i++) {
                const emoji = document.createElement('span');
                emoji.className = 'floating-emoji';
                emoji.textContent = emojis[Math.floor(Math.random() * emojis.length)];
                emoji.style.left = Math.random() * 100 + '%';
                emoji.style.top = Math.random() * 100 + '%';
                emoji.style.animationDelay = Math.random() * 10 + 's';
                emoji.style.fontSize = (Math.random() * 2 + 1.5) + 'rem';
                container.appendChild(emoji);
            }
        }

        /**
         * é¡µé¢åˆ‡æ¢åŠ¨ç”»
         * @param {string} fromId - å½“å‰é¡µé¢ID
         * @param {string} toId - ç›®æ ‡é¡µé¢ID
         */
        function switchPage(fromId, toId) {
            const fromPage = document.getElementById(fromId);
            const toPage = document.getElementById(toId);
            
            fromPage.classList.remove('active');
            setTimeout(() => {
                toPage.classList.add('active');
            }, 300);
        }

        /**
         * å¼€å§‹æµ‹è¯•
         * ä»é¦–é¡µåˆ‡æ¢åˆ°æµ‹è¯•é¡µé¢ï¼Œæ˜¾ç¤ºç¬¬ä¸€é“é¢˜ç›®
         */
        function startTest() {
            switchPage('homePage', 'testPage');
            setTimeout(() => {
                showQuestion(0);
            }, 400);
        }

        /**
         * æ˜¾ç¤ºæŒ‡å®šç´¢å¼•çš„é¢˜ç›®
         * @param {number} index - é¢˜ç›®ç´¢å¼•
         */
        function showQuestion(index) {
            const question = questions[index];
            const questionCard = document.getElementById('questionCard');
            const questionEmoji = document.getElementById('questionEmoji');
            const questionText = document.getElementById('questionText');
            const optionsContainer = document.getElementById('optionsContainer');
            
            // æ·»åŠ è¿›å…¥åŠ¨ç”»
            questionCard.classList.remove('slide-in');
            void questionCard.offsetWidth; // è§¦å‘é‡ç»˜
            questionCard.classList.add('slide-in');
            
            // æ›´æ–°é¢˜ç›®å†…å®¹
            questionEmoji.textContent = question.emoji;
            questionText.textContent = question.question;
            
            // æ¸…ç©ºå¹¶é‡æ–°ç”Ÿæˆé€‰é¡¹
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, optIndex) => {
                const button = document.createElement('button');
                button.className = 'option-btn';
                button.innerHTML = `
                    <span class="option-emoji">${option.emoji}</span>
                    <span class="option-text">${option.text}</span>
                `;
                
                // å•å‡»è¿›å…¥ä¸‹ä¸€é¢˜
                button.addEventListener('click', function() {
                    handleAnswer(index, optIndex, button);
                });
                
                optionsContainer.appendChild(button);
            });
            
            // æ›´æ–°è¿›åº¦æ¡
            updateProgress(index + 1);
        }

        /**
         * å¤„ç†ç”¨æˆ·é€‰æ‹©
         * @param {number} questionIndex - é¢˜ç›®ç´¢å¼•
         * @param {number} optionIndex - é€‰é¡¹ç´¢å¼•
         * @param {HTMLElement} button - æŒ‰é’®å…ƒç´ 
         */
        function handleAnswer(questionIndex, optionIndex, button) {
            const question = questions[questionIndex];
            const option = question.options[optionIndex];
            
            // è®°å½•ç­”æ¡ˆ
            answers.push({
                question: questionIndex,
                answer: optionIndex,
                score: option.score
            });
            
            // ç´¯åŠ æ€»åˆ†
            totalScore += option.score;
            
            // æ›´æ–°ç»´åº¦åˆ†æ•°
            updateDimensions(questionIndex, option.score);
            
            // æ·»åŠ ç‚¹å‡»åŠ¨ç”»æ•ˆæœ
            button.classList.add('clicked');
            
            // å»¶è¿Ÿåè¿›å…¥ä¸‹ä¸€é¢˜
            setTimeout(() => {
                if (currentQuestion < questions.length - 1) {
                    currentQuestion++;
                    showQuestion(currentQuestion);
                } else {
                    showLoading();
                }
            }, 400);
        }

        /**
         * æ›´æ–°å„ç»´åº¦åˆ†æ•°
         * æ ¹æ®é¢˜ç›®ç±»å‹å’Œå¾—åˆ†æ›´æ–°ç›¸åº”ç»´åº¦
         * @param {number} questionIndex - é¢˜ç›®ç´¢å¼•
         * @param {number} score - å¾—åˆ†
         */
        function updateDimensions(questionIndex, score) {
            // æ ¹æ®é¢˜ç›®ç±»å‹åˆ†é…åˆ°ä¸åŒç»´åº¦
            const category = getCategory(questionIndex);
            dimensions[category] += score;
        }

        /**
         * è·å–é¢˜ç›®æ‰€å±åˆ†ç±»
         * @param {number} index - é¢˜ç›®ç´¢å¼•
         * @returns {string} åˆ†ç±»åç§°
         */
        function getCategory(index) {
            const categories = [
                'emotional',      // 0: åˆæ¬¡è§é¢ - æƒ…ç»ªååº”
                'passion',        // 1: ç¤¼ç‰© - çƒ­æƒ…åº¦
                'emotional',      // 2: ä¸å›æ¶ˆæ¯ - æƒ…ç»ªåº¦
                'passion',        // 3: æƒ…ä¾£å¤´åƒ - çƒ­æƒ…åº¦
                'possessiveness', // 4: å¼‚æ€§æœ‹å‹ - å æœ‰æ¬²
                'passion',        // 5: çœ‹ç”µå½± - çƒ­æƒ…åº¦
                'emotional',      // 6: ç¡å‰æ¶ˆæ¯ - æƒ…ç»ªåº¦
                'rationality',    // 7: è§çˆ¶æ¯ - ç†æ€§åº¦
                'rationality',    // 8: åµæ¶å¤„ç† - ç†æ€§åº¦
                'trust',          // 9: å·¥ä½œå¿™ - ä¿¡ä»»åº¦
                'independence',   // 10: æ—…è¡Œ - ç‹¬ç«‹æ€§
                'passion',        // 11: ç”Ÿæ—¥ - çƒ­æƒ…åº¦
                'trust',          // 12: æŸ¥æ‰‹æœº - ä¿¡ä»»åº¦
                'possessiveness', // 13: å¤¸å¼‚æ€§ - å æœ‰æ¬²
                'independence',   // 14: å‘¨æœ«å®…å®¶ - ç‹¬ç«‹æ€§
                'passion',        // 15: KTV - çƒ­æƒ…åº¦
                'emotional',      // 16: å…»å® ç‰© - æƒ…ç»ªåº¦
                'rationality',    // 17: ç»æµé—®é¢˜ - ç†æ€§åº¦
                'emotional',      // 18: ç¡å§¿ - æƒ…ç»ªåº¦
                'emotional',      // 19: å†·é™ä¸€ä¸‹ - æƒ…ç»ªåº¦
                'passion',        // 20: å…¬å¼€æ‹æƒ… - çƒ­æƒ…åº¦
                'trust',          // 21: æ¨èå†…å®¹ - ä¿¡ä»»åº¦
                'rationality',    // 22: å¼‚åœ°æ‹ - ç†æ€§åº¦
                'rationality',    // 23: æœªæ¥è§„åˆ’ - ç†æ€§åº¦
                'emotional'       // 24: ç†æƒ³æ‹çˆ± - æƒ…ç»ªåº¦
            ];
            
            return categories[index] || 'emotional';
        }

        /**
         * æ›´æ–°è¿›åº¦æ¡
         * @param {number} current - å½“å‰é¢˜å·
         */
        function updateProgress(current) {
            const progressFill = document.getElementById('progressFill');
            const progressText = document.getElementById('progressText');
            
            const percentage = (current / questions.length) * 100;
            progressFill.style.width = percentage + '%';
            progressText.textContent = `${current}/${questions.length}é¢˜`;
        }

        /**
         * æ˜¾ç¤ºåŠ è½½åŠ¨ç”»
         */
        function showLoading() {
            const questionCard = document.getElementById('questionCard');
            const loading = document.getElementById('loading');
            const progressContainer = document.querySelector('.progress-container');
            
            questionCard.style.display = 'none';
            progressContainer.style.display = 'none';
            loading.classList.add('active');
            
            // æ¨¡æ‹ŸåŠ è½½è¿‡ç¨‹
            setTimeout(() => {
                loading.classList.remove('active');
                calculateResults();
                switchPage('testPage', 'resultPage');
                setTimeout(() => {
                    displayResults();
                }, 400);
            }, 2000);
        }

        /**
         * è®¡ç®—æµ‹è¯•ç»“æœ
         * åˆ†æå„ç»´åº¦æ•°æ®ï¼Œç”Ÿæˆç»“æœ
         */
        function calculateResults() {
            // æ ‡å‡†åŒ–åˆ†æ•°åˆ°0-100
            const maxPossibleScore = questions.length * 10;
            const normalizedScore = Math.round((totalScore / maxPossibleScore) * 100);
            
            // ç¡®å®šäººæ ¼ç±»å‹
            const personality = determinePersonality();
            
            // ç¡®å®šæ ¸å¿ƒç‰¹è´¨
            const traits = determineTraits();
            
            // ç¡®å®šå æœ‰æ¬²ç±»å‹
            const possessiveness = determinePossessiveness();
            
            // ç¡®å®šä¾æ‹ç±»å‹
            const attachment = determineAttachment();
            
            return {
                score: normalizedScore,
                personality,
                traits,
                possessiveness,
                attachment,
                dimensions
            };
        }

        /**
         * ç¡®å®šæ‹çˆ±äººæ ¼ç±»å‹
         * åŸºäºå„ç»´åº¦åˆ†æ•°ç»¼åˆåˆ¤æ–­
         */
        function determinePersonality() {
            const { passion, rationality, emotional, possessiveness, independence, trust } = dimensions;
            
            // è®¡ç®—å„ç»´åº¦çš„ç›¸å¯¹å¼ºå¼±
            const maxDim = Math.max(passion, rationality, emotional, possessiveness, independence, trust);
            
            if (emotional === maxDim && passion > 40) {
                return {
                    type: "ğŸ’– çƒ­æƒ…æµªæ¼«å‹",
                    desc: "ä½ æ˜¯ä¸ªå¤©ç”Ÿçš„æµªæ¼«ä¸»ä¹‰è€…ï¼å¯¹çˆ±æƒ…å……æ»¡çƒ­æƒ…ï¼Œæƒ…æ„Ÿè¡¨è¾¾ç›´ç™½çƒ­çƒˆã€‚åœ¨ä½ çœ¼ä¸­ï¼Œçˆ±æƒ…æ˜¯ç”Ÿæ´»çš„å…¨éƒ¨ï¼Œä½ æ„¿æ„ä¸ºçˆ±ä»˜å‡ºä¸€åˆ‡ã€‚ä½†è¿™ç§çƒ­çƒˆçš„çˆ±çš„åŒæ—¶ä¹Ÿå®¹æ˜“æƒ…ç»ªåŒ–ï¼Œå­¦ä¼šé€‚å½“æ§åˆ¶æƒ…ç»ªä¼šè®©å…³ç³»æ›´å’Œè°å“¦~"
                };
            } else if (rationality === maxDim && independence > 30) {
                return {
                    type: "ğŸ§  ç†æ€§ç‹¬ç«‹å‹",
                    desc: "ä½ æ˜¯æˆç†Ÿçš„ç†æ€§æ´¾ï¼åœ¨çˆ±æƒ…ä¸­ä¿æŒå¤´è„‘æ¸…é†’ï¼Œä¸ä¼šè½»æ˜“è¢«æƒ…ç»ªå·¦å³ã€‚ä½ æœ‰è‡ªå·±çš„ç”Ÿæ´»å’Œè¿½æ±‚ï¼Œä¸ä¼šå› æ‹çˆ±å¤±å»è‡ªæˆ‘ã€‚è¿™ç§ç‰¹è´¨è®©ä½ åœ¨å…³ç³»ä¸­æ›´ç¨³å®šï¼Œä½†å¶å°”ä¹Ÿè¦å±•éœ²æŸ”è½¯çš„ä¸€é¢ï¼Œè®©å¯¹æ–¹æ„Ÿå—åˆ°è¢«éœ€è¦ã€‚"
                };
            } else if (possessiveness > 40 && emotional > 35) {
                return {
                    type: "ğŸ”’ ä¾æ‹ç²˜äººå‹",
                    desc: "ä½ å¯¹ä¼´ä¾£æœ‰å¼ºçƒˆçš„ä¾èµ–å’Œå æœ‰æ¬²ï¼ä¸€æ—¦çˆ±ä¸Šå°±ä¼šå…¨å¿ƒå…¨æ„ï¼Œå¸Œæœ›æ—¶åˆ»ä¸å¯¹æ–¹åœ¨ä¸€èµ·ã€‚è¿™ç§æ·±æƒ…å¾ˆåŠ¨äººï¼Œä½†è¿‡åº¦çš„å æœ‰æ¬²å¯èƒ½ä¼šè®©ä¼´ä¾£æ„Ÿåˆ°å‹åŠ›ã€‚å­¦ä¼šç»™å½¼æ­¤ç©ºé—´ï¼Œä¿¡ä»»ä¼šè®©å…³ç³»æ›´è½»æ¾ã€‚"
                };
            } else if (independence === maxDim && rationality > 30) {
                return {
                    type: "ğŸ¦… è‡ªç”±æ´’è„±å‹",
                    desc: "ä½ è¿½æ±‚è‡ªç”±å¹³ç­‰çš„çˆ±æƒ…ï¼é‡è§†ä¸ªäººç©ºé—´ï¼Œä¸å–œæ¬¢è¢«æŸç¼šã€‚æœ€å¥½çš„å…³ç³»æ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„äººç›¸äº’æ‰¶æŒã€‚è¿™ç§ç‰¹è´¨å¾ˆå¸å¼•äººï¼Œä½†è¦è­¦æƒ•è¿‡åº¦ç‹¬ç«‹ï¼Œè¯¥ä¾èµ–æ—¶ä¹Ÿè¦å­¦ä¼šä¾èµ–ã€‚"
                };
            } else if (trust > 40) {
                return {
                    type: "ğŸ’ ä¿¡ä»»æ¸©æš–å‹",
                    desc: "ä½ æ‹¥æœ‰æœ€å¥åº·çš„æ‹çˆ±è§‚ï¼åœ¨å…³ç³»ä¸­æ—¢ç»™äºˆçˆ±ä¹Ÿæ¥å—çˆ±ï¼Œæ‡‚å¾—å¹³è¡¡äº²å¯†ä¸ç‹¬ç«‹ã€‚è¿™ç§å®‰å…¨æ„Ÿè®©ä½ å’Œä¼´ä¾£éƒ½èƒ½åœ¨å…³ç³»ä¸­æ„Ÿåˆ°èˆ’é€‚å’Œè¢«çæƒœã€‚ç»§ç»­ä¿æŒï¼Œä½ ä¼šæ”¶è·å¹¸ç¦çš„çˆ±æƒ…ï¼"
                };
            } else {
                return {
                    type: "ğŸ’« å¹³è¡¡æ¸©å’Œå‹",
                    desc: "ä½ åœ¨å„æ–¹é¢éƒ½å¾ˆå¹³è¡¡ï¼åœ¨çƒ­æƒ…ä¸ç†æ€§ã€ä¾èµ–ä¸ç‹¬ç«‹ä¹‹é—´æ‰¾åˆ°äº†å¾ˆå¥½çš„å¹³è¡¡ç‚¹ã€‚ä½ çš„çˆ±æƒ…ç¨³å®šè€Œæ¸©é¦¨ï¼Œæ˜¯å¾ˆå¤šäººç¾¡æ…•çš„'ç»†æ°´é•¿æµ'ã€‚ç»§ç»­ä¿æŒï¼Œä½ çš„çˆ±æƒ…ä¼šå¾ˆé•¿ä¹…~"
                };
            }
        }

        /**
         * ç¡®å®šæ ¸å¿ƒæ‹çˆ±ç‰¹è´¨
         * åˆ—å‡ºç”¨æˆ·çš„ä¸»è¦æ‹çˆ±ç‰¹ç‚¹
         */
        function determineTraits() {
            const traits = [];
            const { passion, rationality, emotional, possessiveness, independence, trust } = dimensions;
            
            if (passion > 35) {
                traits.push("ğŸ”¥ å¯¹çˆ±æƒ…å……æ»¡çƒ­æƒ…ï¼Œå–„äºåˆ¶é€ æµªæ¼«æ°›å›´");
            }
            if (rationality > 35) {
                traits.push("ğŸ§  é‡äº‹å†·é™ï¼Œèƒ½å¤Ÿç†æ€§åˆ†æå’Œè§£å†³é—®é¢˜");
            }
            if (emotional > 35) {
                traits.push("ğŸ’ æƒ…æ„Ÿç»†è…»ï¼Œèƒ½å¤Ÿæ•é”æ„ŸçŸ¥ä¼´ä¾£æƒ…ç»ª");
            }
            if (possessiveness > 35) {
                traits.push("ğŸ¯ é‡è§†å½’å±æ„Ÿï¼Œå¸Œæœ›ä¸ä¼´ä¾£å»ºç«‹æ·±åº¦è¿æ¥");
            }
            if (independence > 35) {
                traits.push("ğŸ¦… æœ‰è‡ªå·±çš„ç”Ÿæ´»è¿½æ±‚ï¼Œä¸ä¼šå®Œå…¨ä¾é™„äºä¼´ä¾£");
            }
            if (trust > 35) {
                traits.push("ğŸ’ æ‡‚å¾—ä¿¡ä»»ï¼Œèƒ½å¤Ÿç»™äºˆä¼´ä¾£è¶³å¤Ÿçš„ç©ºé—´");
            }
            
            if (traits.length === 0) {
                traits.push("ğŸŒ± æ­£åœ¨æˆé•¿ä¸­ï¼Œæœ‰å¾ˆå¤§çš„æ‹çˆ±æ½œåŠ›");
            }
            
            return traits.join("<br><br>");
        }

        /**
         * ç¡®å®šå æœ‰æ¬²ç±»å‹
         * åŸºäºpossessivenessç»´åº¦åˆ¤æ–­
         */
        function determinePossessiveness() {
            const { possessiveness } = dimensions;
            
            if (possessiveness > 45) {
                return {
                    type: "ğŸ” é«˜å æœ‰æ¬²å‹",
                    desc: "ä½ çš„å æœ‰æ¬²æ¯”è¾ƒå¼ºï¼Œå¸Œæœ›æ—¶åˆ»äº†è§£ä¼´ä¾£çš„åŠ¨å‘ã€‚è¿™æºäºä½ å¯¹æ„Ÿæƒ…çš„é‡è§†å’Œä¸å®‰å…¨æ„Ÿã€‚è¯•ç€å­¦ä¼šä¿¡ä»»å¯¹æ–¹ï¼Œç»™å½¼æ­¤ä¸€äº›ç©ºé—´ï¼Œå…³ç³»ä¼šæ›´è½»æ¾æ„‰å¿«ã€‚åŸ¹å…»è‡ªå·±çš„å…´è¶£çˆ±å¥½ï¼Œå‡å°‘å¯¹ä¼´ä¾£çš„è¿‡åº¦ä¾èµ–ã€‚"
                };
            } else if (possessiveness > 25) {
                return {
                    type: "ğŸ”’ ä¸­ç­‰å æœ‰æ¬²å‹",
                    desc: "ä½ çš„å æœ‰æ¬²é€‚ä¸­ï¼Œæ—¢é‡è§†ä¸ä¼´ä¾£çš„äº²å¯†å…³ç³»ï¼Œåˆèƒ½ç»™å¯¹æ–¹é€‚å½“çš„ç©ºé—´ã€‚è¿™æ˜¯æ¯”è¾ƒå¥åº·çš„æ‹çˆ±çŠ¶æ€ï¼Œæ‡‚å¾—å¹³è¡¡äº²å¯†ä¸è‡ªç”±ã€‚ç»§ç»­ä¿æŒè¿™ç§å¹³è¡¡ï¼Œè®©å…³ç³»ç¨³å®šå‘å±•ã€‚"
                };
            } else {
                return {
                    type: "ğŸ”“ ä½å æœ‰æ¬²å‹",
                    desc: "ä½ çš„å æœ‰æ¬²è¾ƒä½ï¼Œéå¸¸å°Šé‡ä¼´ä¾£çš„ä¸ªäººç©ºé—´å’Œè‡ªç”±ã€‚è¿™ç§ç‰¹è´¨è®©ä¼´ä¾£æ„Ÿåˆ°è½»æ¾ï¼Œä½†æœ‰æ—¶å¯èƒ½ä¼šè®©å¯¹æ–¹è§‰å¾—ä½ ä¸å¤Ÿåœ¨æ„ã€‚é€‚å½“è¡¨è¾¾åœ¨æ„å’Œå…³å¿ƒï¼Œè®©å¯¹æ–¹æ„Ÿå—åˆ°è¢«é‡è§†ã€‚"
                };
            }
        }

        /**
         * ç¡®å®šä¾æ‹äººæ ¼ç±»å‹
         * åŸºäºemotionalå’Œtrustç»´åº¦åˆ¤æ–­
         */
        function determineAttachment() {
            const { emotional, trust, possessiveness, independence } = dimensions;
            
            if (emotional > 40 && possessiveness > 35 && independence < 25) {
                return {
                    type: "ğŸ’• ç„¦è™‘ä¾æ‹å‹",
                    desc: "ä½ åœ¨æ„Ÿæƒ…ä¸­å®¹æ˜“ç„¦è™‘ï¼Œå®³æ€•è¢«æŠ›å¼ƒï¼Œéœ€è¦å¤§é‡ç¡®è®¤å’Œå®‰æŠšã€‚ä½ å¯¹ä¼´ä¾£æœ‰å¼ºçƒˆçš„æƒ…æ„Ÿéœ€æ±‚ï¼Œæ¸´æœ›æ·±åº¦è¿æ¥ã€‚å­¦ä¼šè‡ªæˆ‘å®‰æŠšï¼Œå»ºç«‹è‡ªä¿¡å¿ƒï¼Œå‡å°‘å¯¹ä¼´ä¾£çš„è¿‡åº¦ä¾èµ–ä¼šè®©ä½ æ›´å¹¸ç¦ã€‚"
                };
            } else if (emotional < 25 && independence > 35 && trust > 30) {
                return {
                    type: "â„ï¸ å›é¿ä¾æ‹å‹",
                    desc: "ä½ åœ¨æ„Ÿæƒ…ä¸­ä¿æŒè·ç¦»ï¼Œå®³æ€•è¿‡äºäº²å¯†ä¼šå¤±å»è‡ªæˆ‘ã€‚ä½ é‡è§†ç‹¬ç«‹å’Œè‡ªç”±ï¼Œæœ‰æ—¶ä¼šè®©äººè§‰å¾—éš¾ä»¥æ¥è¿‘ã€‚å°è¯•è¡¨è¾¾çœŸå®æƒ…æ„Ÿï¼Œå­¦ä¼šæ¥å—äº²å¯†å…³ç³»ä¸­çš„è„†å¼±ï¼Œä¼šè®©å…³ç³»æ›´è¿›ä¸€æ­¥ã€‚"
                };
            } else if (trust > 40 && emotional > 25 && possessiveness < 35) {
                return {
                    type: "âœ… å®‰å…¨ä¾æ‹å‹",
                    desc: "æ­å–œä½ ï¼ä½ æ‹¥æœ‰æœ€å¥åº·çš„ä¾æ‹ç±»å‹ã€‚åœ¨å…³ç³»ä¸­æ—¢èƒ½å¤Ÿç»™äºˆçˆ±ï¼Œä¹Ÿèƒ½å¤Ÿæ¥å—çˆ±ï¼Œæ‡‚å¾—å¹³è¡¡äº²å¯†ä¸ç‹¬ç«‹ã€‚ç»§ç»­ä¿æŒè¿™ç§å¥åº·çš„æ‹çˆ±æ¨¡å¼ï¼Œä½ ä¼šæ”¶è·æœ€å¹¸ç¦çš„çˆ±æƒ…ï¼"
                };
            } else {
                return {
                    type: "ğŸ­ æ··åˆä¾æ‹å‹",
                    desc: "ä½ çš„ä¾æ‹ç±»å‹æ¯”è¾ƒå¤æ‚ï¼Œä¸åŒæƒ…å†µä¸‹ä¼šæœ‰ä¸åŒçš„è¡¨ç°ã€‚è¿™è¯´æ˜ä½ è¿˜åœ¨æ¢ç´¢å’Œæˆé•¿ä¸­ï¼Œè¿™æ˜¯æ­£å¸¸çš„ã€‚å¤šäº†è§£è‡ªå·±ï¼Œåœ¨å…³ç³»ä¸­æ…¢æ…¢æ‰¾åˆ°æœ€èˆ’æœçš„çŠ¶æ€ï¼Œçˆ±æƒ…ä¼šè¶Šæ¥è¶Šç¾å¥½ã€‚"
                };
            }
        }

        /**
         * æ˜¾ç¤ºæµ‹è¯•ç»“æœ
         * åœ¨ç»“æœé¡µé¢å±•ç¤ºæ‰€æœ‰åˆ†ææ•°æ®
         */
        function displayResults() {
            const results = calculateResults();
            
            // æ˜¾ç¤ºæ€»åˆ†åŠ¨ç”»
            animateScore(results.score);
            
            // æ˜¾ç¤ºäººæ ¼ç±»å‹
            document.getElementById('personalityType').innerHTML = `
                <strong style="font-size: 1.2rem; color: var(--primary-color);">${results.personality.type}</strong><br><br>
                ${results.personality.desc}
            `;
            
            // æ˜¾ç¤ºæ ¸å¿ƒç‰¹è´¨
            document.getElementById('coreTraits').innerHTML = results.traits;
            
            // æ˜¾ç¤ºå æœ‰æ¬²ç±»å‹
            document.getElementById('possessivenessType').innerHTML = `
                <strong style="font-size: 1.2rem; color: var(--primary-color);">${results.possessiveness.type}</strong><br><br>
                ${results.possessiveness.desc}
            `;
            
            // æ˜¾ç¤ºä¾æ‹ç±»å‹
            document.getElementById('attachmentType').innerHTML = `
                <strong style="font-size: 1.2rem; color: var(--primary-color);">${results.attachment.type}</strong><br><br>
                ${results.attachment.desc}
            `;
            
            // ç»˜åˆ¶æŸ±çŠ¶å›¾
            drawBarChart();
        }

        /**
         * åˆ†æ•°åŠ¨ç”»æ•ˆæœ
         * @param {number} targetScore - ç›®æ ‡åˆ†æ•°
         */
        function animateScore(targetScore) {
            const scoreElement = document.getElementById('scoreNumber');
            let currentScore = 0;
            const duration = 1500;
            const increment = Math.ceil(targetScore / (duration / 20));
            
            const animation = setInterval(() => {
                currentScore += increment;
                if (currentScore >= targetScore) {
                    currentScore = targetScore;
                    clearInterval(animation);
                }
                scoreElement.textContent = currentScore;
            }, 20);
        }

        /**
         * ç»˜åˆ¶æŸ±çŠ¶å›¾
         * æ˜¾ç¤ºå…­ä¸ªç»´åº¦çš„å¾—åˆ†
         */
        function drawBarChart() {
            const container = document.getElementById('barChart');
            const colors = [
                '#FF6B9D', // çƒ­æƒ…åº¦ - ç²‰è‰²
                '#A855F7', // ç†æ€§åº¦ - ç´«è‰²
                '#3B82F6', // æƒ…ç»ªåº¦ - è“è‰²
                '#F59E0B', // å æœ‰æ¬² - æ©™è‰²
                '#10B981', // ç‹¬ç«‹æ€§ - ç»¿è‰²
                '#EF4444'  // ä¿¡ä»»åº¦ - çº¢è‰²
            ];
            
            const labels = ['çƒ­æƒ…åº¦', 'ç†æ€§åº¦', 'æƒ…ç»ªåº¦', 'å æœ‰æ¬²', 'ç‹¬ç«‹æ€§', 'ä¿¡ä»»åº¦'];
            const values = [
                Math.min(100, Math.round((dimensions.passion / 50) * 100)),
                Math.min(100, Math.round((dimensions.rationality / 50) * 100)),
                Math.min(100, Math.round((dimensions.emotional / 60) * 100)),
                Math.min(100, Math.round((dimensions.possessiveness / 50) * 100)),
                Math.min(100, Math.round((dimensions.independence / 40) * 100)),
                Math.min(100, Math.round((dimensions.trust / 40) * 100))
            ];
            
            container.innerHTML = '';
            
            labels.forEach((label, index) => {
                const barItem = document.createElement('div');
                barItem.className = 'bar-item';
                barItem.innerHTML = `
                    <div class="bar-label">${label}</div>
                    <div class="bar-track">
                        <div class="bar-fill" style="width: 0%; background: ${colors[index]}"></div>
                    </div>
                    <div class="bar-value">${values[index]}%</div>
                `;
                container.appendChild(barItem);
            });
            
            // å»¶è¿Ÿæ‰§è¡ŒåŠ¨ç”»
            setTimeout(() => {
                const fills = container.querySelectorAll('.bar-fill');
                fills.forEach((fill, index) => {
                    fill.style.width = values[index] + '%';
                });
            }, 300);
        }

        /**
         * åˆ†äº«ç»“æœ
         * å¤åˆ¶ç»“æœæ–‡æœ¬åˆ°å‰ªè´´æ¿
         */
        function shareResult() {
            const results = calculateResults();
            const shareText = `æˆ‘åœ¨ã€æ‹çˆ±ä½“è´¨æµ‹è¯•ã€‘ä¸­å¾—äº†${results.score}åˆ†ï¼\n\næˆ‘çš„æ‹çˆ±äººæ ¼ç±»å‹æ˜¯ï¼š${results.personality.type}\n\nå¿«æ¥çœ‹çœ‹ä½ çš„æ‹çˆ±ä½“è´¨æ˜¯ä»€ä¹ˆå§ï¼ğŸ’•`;
            
            if (navigator.clipboard) {
                navigator.clipboard.writeText(shareText).then(() => {
                    showToast('âœ… ç»“æœå·²å¤åˆ¶ï¼Œå¿«å»åˆ†äº«ç»™æœ‹å‹å§ï¼');
                }).catch(() => {
                    showToast('âŒ å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨åˆ†äº«');
                });
            } else {
                // é™çº§å¤„ç†
                const textarea = document.createElement('textarea');
                textarea.value = shareText;
                document.body.appendChild(textarea);
                textarea.select();
                document.execCommand('copy');
                document.body.removeChild(textarea);
                showToast('âœ… ç»“æœå·²å¤åˆ¶ï¼Œå¿«å»åˆ†äº«ç»™æœ‹å‹å§ï¼');
            }
        }

        /**
         * é‡æ–°æµ‹è¯•
         * é‡ç½®æ‰€æœ‰æ•°æ®ï¼Œè¿”å›é¦–é¡µ
         */
        function retakeTest() {
            // é‡ç½®å˜é‡
            currentQuestion = 0;
            totalScore = 0;
            answers = [];
            dimensions = {
                passion: 0,
                rationality: 0,
                emotional: 0,
                possessiveness: 0,
                independence: 0,
                trust: 0
            };
            
            // é‡ç½®UI
            document.getElementById('questionCard').style.display = 'block';
            document.querySelector('.progress-container').style.display = 'block';
            document.getElementById('scoreNumber').textContent = '0';
            
            // åˆ‡æ¢åˆ°é¦–é¡µ
            switchPage('resultPage', 'homePage');
        }

        /**
         * æ˜¾ç¤ºToastæç¤º
         * @param {string} message - æç¤ºæ¶ˆæ¯
         */
        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }
    </script>
</body>
</html>
