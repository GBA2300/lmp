<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>恋爱体质测试 - 搞笑专业版</title>
    <style>
        /* 整体风格：明快幽默，粉色+蓝色调 */
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #ffeef8, #e0f7fa);
            color: #333;
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        header, footer {
            width: 100%;
            text-align: center;
            padding: 20px;
            background: rgba(255, 255, 255, 0.8);
        }
        h1 {
            color: #ff4081;
            font-size: 2.5em;
            margin: 0;
        }
        .container {
            max-width: 800px;
            width: 90%;
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            padding: 30px;
            margin: 20px 0;
            flex: 1;
        }
        button {
            background: #ff4081;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.2em;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            margin: 20px 0;
        }
        button:hover {
            transform: scale(1.1);
            background: #f50057;
        }
        .hidden { display: none; }
        .question {
            text-align: center;
            font-size: 1.5em;
            margin: 40px 0;
        }
        .options {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        .option {
            background: #fff0f5;
            padding: 20px;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1.2em;
            border: 2px solid #ff4081;
        }
        .option:hover {
            background: #ff4081;
            color: white;
            transform: translateY(-5px);
        }
        .progress {
            text-align: center;
            font-size: 1.2em;
            margin: 20px 0;
            color: #ff4081;
        }
        .result-score {
            font-size: 4em;
            color: #ff4081;
            animation: bounce 2s infinite;
        }
        @keyframes bounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }
        .chart-container {
            width: 300px;
            height: 300px;
            margin: 20px auto;
        }
        footer {
            font-size: 0.8em;
            color: #999;
        }
        /* 响应式 */
        @media (max-width: 600px) {
            h1 { font-size: 2em; }
            .question { font-size: 1.2em; }
            .option { font-size: 1em; }
        }
    </style>
    <!-- Chart.js 用于可视化 -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

<div id="home" class="container">
    <h1>恋爱体质测试</h1>
    <p style="font-size:1.3em;">通过25道超级幽默的题目，结合专业心理学原理（依恋理论、占有欲分析等），帮你测出你的恋爱体质！</p>
    <p>为什么要做这个测试？因为很多人谈恋爱像在玩“王者荣耀”——上头了冲，分了哭。了解自己的恋爱倾向，能让你少踩雷，多脱单~</p>
    <p style="font-size:1.5em; color:#ff4081;">“单身狗的自我修养，从认识自己开始！”</p>
    <button onclick="startTest()">开始测试</button>
</div>

<div id="quiz" class="container hidden">
    <div class="progress" id="progress">第 1 / 25 题</div>
    <div class="question" id="question-text"></div>
    <div class="options" id="options"></div>
</div>

<div id="result" class="container hidden">
    <h1>你的恋爱体质得分</h1>
    <div class="result-score" id="score">0</div>
    <p id="type-desc"></p>
    
    <h2>可视化分析</h2>
    <canvas id="radarChart" class="chart-container"></canvas>
    
    <h2>详细解读</h2>
    <p id="detailed"></p>
    
    <button onclick="share()">分享结果</button>
    <button onclick="restart()">重新测试</button>
</div>

<footer>
    <p>免责声明：本测试仅供娱乐和自我参考，不构成专业心理咨询。恋爱有风险，脱单需谨慎~</p>
    <p>© 2025 恋爱体质测试 | 幽默专业版</p>
</footer>

<script>
    // 25道幽默题目（融入网络梗、神评论）
    const questions = [
        { q: "对象晚回消息，你的第一反应是？", opts: ["他在忙，理解万岁", "已读不回？这是要分手的节奏吗！", "直接打电话轰炸，直到接听", "无所谓，我也在忙自己的"], scores: [4, 1, 1, 3] },
        { q: "看到对象和异性互动，你会？", opts: ["正常社交，没啥", "内心OS：这谁？这谁啊？！", "马上标记主权：这是我对象！", "吃醋但憋着，不说"], scores: [4, 1, 1, 2] },
        { q: "对象说想一个人静静，你？", opts: ["给他空间，爱要自由", "静静是谁？！我不允许！", "伤心了，但他需要我就给", "正好，我也想一个人玩游戏"], scores: [4, 1, 2, 3] },
        { q: "谈恋爱最不能忍的是？", opts: ["不沟通，冷暴力", "隐瞒欺骗", "不黏人，不浪漫", "管太多，不自由"], scores: [2, 1, 1, 4] },
        { q: "对象夸别人好看，你？", opts: ["我也觉得，审美在线", "内心碎了：比我好看吗？", "不允许！只能夸我！", "无感，继续刷手机"], scores: [4, 1, 1, 3] },
        { q: "分手后你会？", opts: ["祝福ta，各自安好", "哭天抢地，蓝瘦香菇", "拉黑删除，永不联系", "很快就找下一个"], scores: [4, 1, 2, 3] },
        { q: "理想的恋爱是？", opts: ["互相独立，偶尔浪漫", "天天黏在一起，像连体婴", "我宠ta，ta听我的", "随缘，开心就好"], scores: [3, 1, 1, 4] },
        { q: "对象加班不陪你，你？", opts: ["支持工作，事业重要", "委屈巴巴：你不爱我了", "生气，但不说", "自己玩得更开心"], scores: [4, 1, 2, 3] },
        { q: "看到前任过得很好，你？", opts: ["真心祝福", "酸了：为什么不是我？", "无所谓，关我屁事", "暗中较劲，要过得更好"], scores: [4, 2, 3, 3] },
        { q: "恋爱中谁说了算？", opts: ["平等商量", "我听对象的", "对象听我的", "看心情，谁强势谁上"], scores: [4, 2, 1, 3] },
        { q: "对象手机让你看吗？", opts: ["隐私重要，不看", "必须看！透明恋爱", "想看但不说", "无所谓，反正我也没啥"], scores: [3, 1, 2, 4] },
        { q: "异性朋友多，你介意吗？", opts: ["不介意，信任第一", "超级介意！纯爱战神", "有点，但忍着", "我也有，多正常"], scores: [4, 1, 2, 3] },
        { q: "吵架后谁先低头？", opts: ["谁错谁低", "我先，怕失去", "等ta来哄我", "冷战到底"], scores: [4, 2, 1, 2] },
        { q: "对象出差一周，你？", opts: ["正常生活，想ta时发消息", "每天视频，度日如年", "开心！终于自由了", "担心，但相信ta"], scores: [3, 1, 4, 4] },
        { q: "恋爱脑上头时，你会？", opts: ["理性克制", "为爱冲锋，所有都给ta", "控制不住，但后悔", "从不上头，冷静派"], scores: [3, 1, 2, 4] },
        { q: "对象忘记纪念日，你？", opts: ["没关系，天天都是", "超级失落，不开心", "生气暗示", "我也没记住"], scores: [4, 1, 2, 3] },
        { q: "看到情侣秀恩爱，你？", opts: ["甜甜的，好羡慕", "狗粮吃饱了，单身狗哭了", "秀吧秀吧，早分早超生", "无感，继续单身快乐"], scores: [3, 1, 2, 4] },
        { q: "恋爱中最重要的是？", opts: ["信任与沟通", "浪漫与惊喜", "陪伴与黏人", "独立与空间"], scores: [4, 2, 1, 3] },
        { q: "对象和家人意见冲突，你？", opts: ["理性调解", "无条件站对象", "站家人", "看情况"], scores: [3, 1, 2, 4] },
        { q: "被甩后，你会？", opts: ["自我成长，下一个更好", "伤心很久，难以走出来", "报复？不至于", "很快就忘"], scores: [4, 1, 3, 3] },
        { q: "每天必须说晚安吗？", opts: ["不一定，自然就好", "必须！不然睡不着", "ta说就行", "随便"], scores: [3, 1, 2, 4] },
        { q: "对象穿衣暴露，你？", opts: ["好看就行，自信最美", "不行！只能给我看", "有点吃醋，但不说", "无所谓"], scores: [4, 1, 2, 3] },
        { q: "恋爱像什么梗？", opts: ["细水长流", "一见钟情，上头", "修罗场，每天修罗", "自由自在，不束缚"], scores: [4, 2, 1, 3] },
        { q: "对象生气，你？", opts: ["耐心哄，沟通解决", "也生气，冷战", "道歉，哪怕不是我的错", "等ta自己好"], scores: [4, 2, 1, 3] },
        { q: "最终幻想的恋爱是？", opts: ["互相成就，共同成长", "轰轰烈烈，刻骨铭心", "我主导，ta依赖我", "轻松愉快，不累"], scores: [4, 2, 1, 3] }
    ];

    let currentQuestion = 0;
    let answers = [];
    let totalScore = 0;

    function startTest() {
        document.getElementById('home').classList.add('hidden');
        document.getElementById('quiz').classList.remove('hidden');
        showQuestion();
    }

    function showQuestion() {
        if (currentQuestion >= questions.length) {
            calculateResult();
            return;
        }
        document.getElementById('progress').innerText = `第 ${currentQuestion + 1} / 25 题`;
        document.getElementById('question-text').innerText = questions[currentQuestion].q;
        const optionsDiv = document.getElementById('options');
        optionsDiv.innerHTML = '';
        questions[currentQuestion].opts.forEach((opt, i) => {
            const div = document.createElement('div');
            div.className = 'option';
            div.innerText = opt;
            div.onclick = () => selectOption(i);
            optionsDiv.appendChild(div);
        });
    }

    function selectOption(index) {
        answers.push(index);
        totalScore += questions[currentQuestion].scores[index];
        currentQuestion++;
        // 动画切换：淡出淡入
        document.getElementById('quiz').style.opacity = 0;
        setTimeout(() => {
            showQuestion();
            document.getElementById('quiz').style.opacity = 1;
        }, 300);
    }

    function calculateResult() {
        document.getElementById('quiz').classList.add('hidden');
        document.getElementById('result').classList.remove('hidden');

        const avgScore = Math.round(totalScore / questions.length);
        document.getElementById('score').innerText = avgScore + ' 分';

        // 结果类型（基于平均分，4分制）
        let type, desc, detailed;
        if (avgScore >= 3.5) {
            type = "安全型恋爱体质（神仙级别）";
            desc = "恭喜！你属于稀有安全型依恋，恋爱中信任满满，不黏人不冷淡，占有欲适中。你的恋爱像细水长流，稳稳的幸福！";
            detailed = "恋爱人格：成熟独立<br>占有欲类型：健康适度<br>依恋类型：安全型<br>建议：继续保持，你就是别人眼中的对象模板！";
        } else if (avgScore >= 2.5) {
            type = "平衡型恋爱体质（凡人高端局）";
            desc = "你恋爱中理性与感性并存，偶尔吃醋但能自愈。占有欲中等，依恋偏安全，但有时会小作。";
            detailed = "恋爱人格：理性浪漫<br>占有欲类型：中等（偶尔纯爱战神）<br>依恋类型：安全偏焦虑<br>建议：多沟通，避免内耗。";
        } else if (avgScore >= 1.5) {
            type = "焦虑型恋爱体质（修罗场常客）";
            desc = "你超级在乎对象，占有欲爆棚，爱得轰轰烈烈，但容易上头和玻璃心。蓝瘦香菇是你的日常~";
            detailed = "恋爱人格：热情黏人<br>占有欲类型：高（纯爱战神上身）<br>依恋类型：焦虑型<br>建议：学会给自己安全感，别把对象当救命稻草。";
        } else {
            type = "回避型恋爱体质（单身贵族）";
            desc = "你独立自由，恋爱中不喜欢被束缚，占有欲低，享受一个人的快乐。但有时显得太冷~";
            detailed = "恋爱人格：酷酷哒独立<br>占有欲类型：低（自由至上）<br>依恋类型：回避型<br>建议：试着多敞开心扉，爱情会更甜。";
        }

        document.getElementById('type-desc').innerHTML = `<strong>\( {type}</strong><br> \){desc}`;
        document.getElementById('detailed').innerHTML = detailed;

        // Radar Chart 可视化（4维度示例）
        const ctx = document.getElementById('radarChart').getContext('2d');
        new Chart(ctx, {
            type: 'radar',
            data: {
                labels: ['信任度', '黏人度', '占有欲', '独立性'],
                datasets: [{
                    label: '你的恋爱体质',
                    data: [avgScore*25, (5-avgScore)*25, (avgScore<2.5 ? 80 : 20), avgScore*25],
                    backgroundColor: 'rgba(255, 64, 129, 0.2)',
                    borderColor: '#ff4081',
                    pointBackgroundColor: '#ff4081'
                }]
            },
            options: { scale: { ticks: { beginAtZero: true, max: 100 } } }
        });
    }

    function share() {
        alert('分享功能：复制链接或截图发朋友圈~ 你的得分：' + document.getElementById('score').innerText);
    }

    function restart() {
        location.reload();
    }

    // 过渡动画
    document.querySelectorAll('.container').forEach(el => {
        el.style.transition = 'opacity 0.5s';
    });
</script>

</body>
</html>
